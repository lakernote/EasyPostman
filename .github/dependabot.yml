# Dependabot é…ç½®æ–‡ä»¶
#
# Dependabot æ˜¯ä»€ä¹ˆï¼Ÿ
# - GitHub çš„è‡ªåŠ¨ä¾èµ–æ›´æ–°å·¥å…·ï¼Œå¸®åŠ©ä¿æŒé¡¹ç›®ä¾èµ–çš„å®‰å…¨æ€§å’Œæ—¶æ•ˆæ€§
# - è‡ªåŠ¨æ£€æµ‹è¿‡æ—¶çš„ä¾èµ–åŒ…å’Œå®‰å…¨æ¼æ´žï¼ˆCVEï¼‰
# - è‡ªåŠ¨åˆ›å»º Pull Request æ¥æ›´æ–°ä¾èµ–ç‰ˆæœ¬
#
# ä¸»è¦ä½œç”¨ï¼š
# 1. ðŸ”’ å®‰å…¨é˜²æŠ¤ï¼šåŠæ—¶å‘çŽ°å¹¶ä¿®å¤ä¾èµ–åŒ…ä¸­çš„å®‰å…¨æ¼æ´ž
# 2. ðŸ“¦ ç‰ˆæœ¬ç®¡ç†ï¼šè‡ªåŠ¨æ›´æ–°ä¾èµ–åˆ°æœ€æ–°ç‰ˆæœ¬
# 3. â° èŠ‚çœæ—¶é—´ï¼šæ— éœ€æ‰‹åŠ¨æ£€æŸ¥å’Œæ›´æ–°ä¾èµ–
# 4. ðŸ“Š å¯è¿½æº¯æ€§ï¼šé€šè¿‡ PR è®°å½•æ¯æ¬¡ä¾èµ–æ›´æ–°
#
# å¦‚ä½•æŸ¥çœ‹ï¼Ÿ
# - ä»“åº“ Security -> Dependabot alertsï¼šæŸ¥çœ‹å®‰å…¨æ¼æ´žè­¦å‘Š
# - Pull requestsï¼šæŸ¥çœ‹ Dependabot åˆ›å»ºçš„æ›´æ–° PR

version: 2
updates:
  # Maven é¡¹ç›®ä¾èµ–æ›´æ–°é…ç½®
  - package-ecosystem: "maven"
    # æ‰«æç›®å½•ï¼šæ ¹ç›®å½•çš„ pom.xml
    directory: "/"
    # æ›´æ–°é¢‘çŽ‡ï¼šæ¯å‘¨æ£€æŸ¥ä¸€æ¬¡
    # å¯é€‰å€¼ï¼šdaily(æ¯å¤©)ã€weekly(æ¯å‘¨)ã€monthly(æ¯æœˆ)
    schedule:
      interval: "weekly"
      # å¯é€‰ï¼šæŒ‡å®šæ£€æŸ¥æ—¶é—´ï¼ˆUTC æ—¶åŒºï¼‰
      # day: "monday"
      # time: "02:00"

    # é™åˆ¶åŒæ—¶æ‰“å¼€çš„ PR æ•°é‡ï¼Œé¿å…ä¸€æ¬¡æ€§åˆ›å»ºå¤ªå¤š PR
    # æŽ¨èå€¼ï¼š3-10ï¼Œæ ¹æ®é¡¹ç›®æ´»è·ƒåº¦è°ƒæ•´
    open-pull-requests-limit: 3

    # å…è®¸æ›´æ–°çš„ä¾èµ–ç±»åž‹
    # - dependency-type: "all" è¡¨ç¤ºæ›´æ–°æ‰€æœ‰ä¾èµ–ï¼ˆç›´æŽ¥ä¾èµ–å’Œé—´æŽ¥ä¾èµ–ï¼‰
    # - å…¶ä»–é€‰é¡¹ï¼šproductionï¼ˆç”Ÿäº§ä¾èµ–ï¼‰ã€developmentï¼ˆå¼€å‘ä¾èµ–ï¼‰
    allow:
      - dependency-type: "all"

    # å¯é€‰ï¼šå°† Dependabot PR è‡ªåŠ¨åˆ†é…ç»™ç‰¹å®šå®¡æ ¸äººå‘˜
    # reviewers:
    #   - "your-github-username"

    # å¯é€‰ï¼šä¸º Dependabot PR è‡ªåŠ¨æ·»åŠ æ ‡ç­¾ï¼Œä¾¿äºŽç®¡ç†
    # labels:
    #   - "dependencies"
    #   - "automated"

    # å¯é€‰ï¼šè®¾ç½®æäº¤ä¿¡æ¯å‰ç¼€ï¼Œä¾¿äºŽè¯†åˆ«
    # commit-message:
    #   prefix: "chore"
    #   include: "scope"

    # å¿½ç•¥æŸäº›ä¾èµ–çš„æ›´æ–°
    # ä½¿ç”¨åœºæ™¯ï¼šæŸäº›ä¾èµ–ç‰ˆæœ¬éœ€è¦ä¿æŒç¨³å®šï¼Œä¸å¸Œæœ›è‡ªåŠ¨æ›´æ–°
    ignore:
      # å¿½ç•¥ okhttp ç›¸å…³ä¾èµ–çš„æ›´æ–°
      - dependency-name: "com.squareup.okhttp3:okhttp"
      - dependency-name: "com.squareup.okhttp3:okhttp-*"  # å¿½ç•¥æ‰€æœ‰ okhttp å­æ¨¡å—
      - dependency-name: "com.squareup.okhttp3:logging-interceptor"
    #   - dependency-name: "org.example:unwanted"
    #     update-types: ["version-update:semver-major"]  # å¿½ç•¥ä¸»ç‰ˆæœ¬æ›´æ–°

# æ³¨æ„äº‹é¡¹ï¼š
# 1. Dependabot ä¼šè‡ªåŠ¨å¤„ç† GitHub Advisory æ•°æ®åº“ä¸­çš„å®‰å…¨ä¿®å¤
# 2. éœ€åœ¨ä»“åº“è®¾ç½®ä¸­å¯ç”¨ "Dependabot alerts" å’Œ "Dependabot security updates"
# 3. è·¯å¾„ï¼šSettings -> Security -> Code security and analysis
# 4. å®‰å…¨æ›´æ–°çš„ PR ä¼šè¢«æ ‡è®°ä¸º "security" ä¼˜å…ˆçº§
# 5. å¯ä»¥æ‰‹åŠ¨è§¦å‘æ›´æ–°ï¼šåœ¨ Insights -> Dependency graph -> Dependabot ä¸­ç‚¹å‡» "Check for updates"

